@using FoodAdvisor.ViewModels.RecepiesViewModels;
@using static FoodAdvisor.Common.ApplicationConstants;
@model IEnumerable<RecepieIndexViewModel>;
@using FoodAdvisor.Data.Services.Interfaces;
@using FoodAdvisor.Infrastructure;
@inject IManagerService managerService

@{
	ViewBag.Title = "All Recepies";
}
<link rel="stylesheet" href="~/css/site-recepie-index.css" asp-append-version="true" />

<h2>Recepies</h2>
<a asp-controller="Recepie" asp-action="Add" method="get" class="btn btn-success mb-4">Add Your Recepie!</a>

<div class="row">
	@foreach (RecepieIndexViewModel recepie in Model)
	{
		<div class="col-md-3" style="min-width:300px;">
			<div class="card">
				<div>
					<img class="header" src="@recepie.ImageURL" alt="/@NoImage">
					<form asp-controller="RecepieFavourites" asp-action="AddToFavourites" asp-route-id="@recepie.Id" method="post" class="icon">
						<input type="hidden" name="id" value="@recepie.Id" />
						<i type="submit" class="fa-solid fa-heart"></i>
					</form>

				</div>
				<div class="text">
					<h1 class="food">
						@recepie.Name
					</h1>
					<div id="recepie-details-wrapper">
						<i class="fa bi-clock"> @recepie.CookingTime</i>
						<i class="fa fa-users"> @recepie.Category</i>
						<i class="fa bi-layout-text-sidebar"> @recepie.Category</i>

					</div>
					<p class="info">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Earum, temporibus.</p>
				</div>
				<div class="row">
					<div class="col-5" style="padding-left:50px">
						<img src="@recepie.AuthorPicturePath" id="author-image" />
					</div>
					<div class="col-5"><p style="font-size:0.8rem">Published by: <b>@recepie.Publisher</b></p></div>
				</div>
				<a asp-action="Details" asp-route-id="@recepie.Id" class="btn">Let's Cook!</a>
			</div>
		</div>

	}
</div>
