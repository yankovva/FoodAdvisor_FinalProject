@using FoodAdvisor.ViewModels.RestaurantViewModels;
@using FoodAdvisor.Data.Services.Interfaces;
@using FoodAdvisor.Infrastructure;
@using static FoodAdvisor.Common.ApplicationConstants;
@model IEnumerable<RestaurantIndexViewModel>;
@inject IManagerService managerService
<link rel="stylesheet" href="~/css/site-recepie-index.css" asp-append-version="true" />


@{
	ViewBag.Title = "All Restauranrs";
}

<h2 style="color:white;">Restaurants</h2>

<!-- Button to add a new restaurant -->
@if (await this.managerService.IsUserManagerAsync(this.User.GetUserId()))
{
<a asp-action="Add" class="btn btn-success mb-4">Add New Restaurant</a>
}


<div class="row">
	@foreach (RestaurantIndexViewModel restaurant in Model)
	{
		<div class="col-md-3" style="min-width:300px;">
			<div class="card">
				<div>
					<img class="header" src="@restaurant.ImageURL" alt="/@NoImage">
					<form asp-controller="RestaurantFavourites" asp-action="AddToFavourites" asp-route-id="@restaurant.Id" method="post">
						<input type="hidden" name="id" value="@restaurant.Id" />
						<button type="submit" class="icon"><i type="submit" class="fa-solid fa-heart"></i></button>
					</form>

				</div>
				<div class="text">
					<h1 class="food">
						@restaurant.Name
					</h1>
					<div id="recepie-details-wrapper">
						<i class="fa bi-cash">@restaurant.PriceRange</i>
						<i class="fa fa-users"> @restaurant.Category</i>
						<i class="fa bi-layout-text-sidebar"> @restaurant.Category</i>

					</div>
					<p class="info">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Earum, temporibus.</p>
				</div>
				<a asp-action="Details" asp-route-id="@restaurant.Id" class="btn">Details</a>
			</div>
		</div>
	}
</div>
