@using FoodAdvisor.ViewModels.RestaurantViewModels;
@using FoodAdvisor.ViewModels.CommentViewModel;
@model RestaurantDetailsViewModel

@{
	ViewBag.Title = "Restaurnat Details";
}

<h2>@Model.Name</h2>
<div .container-fluid>
	<div class="row">
		<div class="text-center">
			<img src="@Model.ImageURL" class="rounded" alt="Responsive image" width="400">
		</div>
		<p><strong>Name</strong> @Model.Name</p>
		<p><strong>Category</strong> @Model.Category</p>
		<p><strong>Description</strong> @Model.Description</p>
		<p><strong>Address:</strong> @Model.Address</p>
		<p><strong>City:</strong> @Model.City</p>
		<p><strong>Publisher:</strong> @Model.Publisher</p>
		<p><strong>Comments:</strong></p>
		<a asp-controller="RestaurantComment" asp-action="Add" asp-route-id="@Model.Id" class="btn btn-success mb-4">Add New Comment</a>
		<div class="list-group">
			@foreach (CommentAllViewModel comment in Model.AllComment)
			{
				<div class="list-group-item-secondary flex-column align-items-start ">
					<div class="d-flex w-30 justify-content-between">
						<p class="mb-1">Publisher: @comment.UserName</p>
						<small class="disabled">@comment.CreatedOn</small>
					</div>
					<p class="mb-1">@comment.Message</p>
				</div>
			}

		</div>
	</div>
	<a asp-action="Index" class="btn btn-secondary">Back to All Restaurants</a>
	@if (User?.Identity?.Name == @Model.Publisher)
	{
		<a asp-controller="Restaurant" asp-action="Delete" asp-route-id="@Model.Id" class="btn btn-outline-danger btn-rounded ">Delete</a>
	}

